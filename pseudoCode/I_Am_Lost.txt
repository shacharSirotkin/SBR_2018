In subsection 4.1 of the basic article (ijcai05), in the fourth row from the begining of the right column in this page and again after two paragraphs in the third row there is an explanation for our "if tagged(parent(v),t)". It seems that there is an assumption about the order of the given observation such that the observation are given in increasing depth. I don't realy understand the meaning of that assumption so maybe we can remove it without any known damage.

About tagging the root, in the the basic article (ijcai05), it seems that the root is indeed never tagged. The root is an empty node and tagging is an action for plan step only.

I split the propagateUp by coppying the functions' content. Sorry, my creativity approaches zero.

Q: Does it right to propagate the tagging up when the tag was a Soft Tag? Should the propagatting up work only when the tag became a hard tag? Don't tagging node A with valid duration of 1 in propagating up from node B with valid duration of 3 would be mistake in the first two tags?
